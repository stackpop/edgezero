#![cfg_attr(target_arch = "wasm32", no_main)]

#[cfg(target_arch = "wasm32")]
use worker::*;
#[cfg(target_arch = "wasm32")]
use {{proj_core_mod}}::App;

#[cfg(target_arch = "wasm32")]
#[event(fetch)]
pub async fn main(req: Request, env: Env, ctx: Context) -> Result<Response> {
    anyedge_adapter_cloudflare::run_app::<App>(req, env, ctx).await
}

#[cfg(not(target_arch = "wasm32"))]
fn main() {
    eprintln!(
        "Run `wrangler dev` or target wasm32-unknown-unknown to execute {{proj_cloudflare}}."
    );
}
